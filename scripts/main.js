(function(){var a,b,c,d,e,f,g,h,i,j,k;for(a=70,g=30,c=30,window.stacks=e=[],k=d3.range(1,7),i=0,j=k.length;j>i;i++)f=k[i],e.push({totes:f,bins:0,litter:0,score:2*f+0+0}),e.push({totes:f,bins:1,litter:0,score:2*f+4*f+0}),e.push({totes:f,bins:1,litter:1,score:2*f+4*f+6});h=1e3/e.length,d=d3.scale.ordinal().domain(e.map(function(a){return a.score}).sort(function(a,b){return a-b})).rangePoints([0,900]),b=d3.scale.linear().domain([0,e.length]).range([0,900]),e=d3.select("svg").selectAll(".stack").data(e).enter().append("g").attr("score",function(a){return a.score}).attr("transform",function(a,c){return"translate("+b(c)+",300)"}),e.selectAll(".tote").data(function(a){return d3.range(0,a.totes)}).enter().append("use").attr("y",function(a,b){return(b+1)*-g}).attr("xlink:href","#tote"),e.selectAll(".litter").data(function(a){return d3.range(0,a.litter)}).enter().append("use").attr("y",function(){return(d3.select(this.parentElement).datum().totes+1)*-g-.55*a}).attr("xlink:href","#litter"),e.selectAll(".bin").data(function(a){return d3.range(0,a.bins)}).enter().append("use").attr("y",function(){return(d3.select(this.parentElement).datum().totes+1)*-g}).attr("xlink:href","#bin"),e.append("text").text(function(a){return a.score}).attr("x",h/2),window.orderByScore=function(){return d3.selectAll("g").transition().duration(1e3).attr("transform",function(a){return"translate("+(d(a.score)+45*a.bins+45*a.litter)+",300)"})},window.orderByIndex=function(){return d3.selectAll("g").transition().duration(1e3).attr("transform",function(a,c){return"translate("+b(c)+",300)"})}}).call(this);